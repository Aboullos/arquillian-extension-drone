<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Arquillian Drone</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Arquillian Drone <span class="image"><a class="image" href="https://travis-ci.org/arquillian/arquillian-extension-drone"><img src="https://travis-ci.org/arquillian/arquillian-extension-drone.svg" alt="Build Status"></a></span></h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_why_should_i_use_arquillian_drone_instead_of_plain_webdriver">1. Why should I use Arquillian Drone instead of plain WebDriver?</a></li>
<li><a href="#_getting_started">2. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_see_it_in_action">2.1. See It in Action</a></li>
</ul>
</li>
<li><a href="#_automatic_download">3. Automatic Download</a>
<ul class="sectlevel2">
<li><a href="#_how_it_works">3.1. How it works?</a></li>
<li><a href="#_activate_deactivate">3.2. Activate / Deactivate</a></li>
<li><a href="#_selenium_server_2">3.3. Selenium Server</a></li>
</ul>
</li>
<li><a href="#_supported_frameworks_and_their_versions">4. Supported Frameworks And Their Versions</a></li>
<li><a href="#_maven_setup_example">5. Maven Setup Example</a></li>
<li><a href="#life-cycle-scopes-of-drone-points">6. Life Cycle Scopes of @Drone points</a>
<ul class="sectlevel2">
<li><a href="#class-scoped-life-cycle">6.1. 1. Class Scoped Life Cycle</a></li>
<li><a href="#method-scoped-life-cycle">6.2. 2. Method Scoped Life Cycle</a></li>
<li><a href="#deployment-scoped-life-cycle">6.3. 3. Deployment Scoped Life Cycle</a></li>
</ul>
</li>
<li><a href="#configuring-drone-instances">7. Configuring Drone Instances</a>
<ul class="sectlevel2">
<li><a href="#default-drone-configuration">7.1. Default Drone Configuration</a></li>
<li><a href="#webdriver-configuration">7.2. WebDriver configuration</a></li>
<li><a href="#graphene-2-configuration">7.3. Graphene 2 Configuration</a></li>
<li><a href="#selenium-server-configuration">7.4. Selenium Server Configuration</a></li>
</ul>
</li>
<li><a href="#extended-configuration-configuring-qualifierd-drone-instances">8. Extended Configuration: Configuring @Qualifier&#8217;d Drone Instances</a></li>
<li><a href="#arquillian-drone-spi">9. Arquillian Drone SPI</a>
<ul class="sectlevel2">
<li><a href="#event-model">9.1. Event Model</a></li>
<li><a href="#working-with-drone-instances">9.2. Working with Drone Instances</a></li>
</ul>
</li>
<li><a href="#_building_the_project">10. Building the project</a>
<ul class="sectlevel2">
<li><a href="#_running_test_suite">10.1. Running test suite</a></li>
<li><a href="#_releasing_new_version">10.2. Releasing new version</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Arquillian Drone 2 extension for Arquillian provides a simple way
to include functional tests for an application with a web-based
user interface.</p>
</div>
<div class="paragraph">
<p>Arquillian Drone 2 brings the power of WebDriver into the Arquillian framework.
WebDriver serves as a language to communicate with the browser, by filling the forms, navigating the
pages and validating their content.</p>
</div>
<div class="paragraph">
<p>Compared with its predecessor Arquillian Drone 1, it offers
<a href="http://github.com/arquillian/arquillian-extension-drone/wiki/SPI-changes-in-Drone-2">new
features and tools</a> as part of the SPI as well as
<a href="http://github.com/arquillian/arquillian-extension-drone/wiki/API-changes-in-Drone-2">multiple
life cycle scopes of @Drone points</a> as part of the API.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_should_i_use_arquillian_drone_instead_of_plain_webdriver"><a class="anchor" href="#_why_should_i_use_arquillian_drone_instead_of_plain_webdriver"></a>1. Why should I use Arquillian Drone instead of plain WebDriver?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are many reasons why you want to do that, the most important being:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Life cycle management of the browser</p>
</li>
<li>
<p>Interaction with deployments and containers provided by Arquillian</p>
</li>
<li>
<p>Simple usage of multiple browsers in a single test</p>
</li>
<li>
<p>Configuration kept on a single place, outside of the Java code</p>
</li>
<li>
<p>Fully compatible with the IDE</p>
</li>
<li>
<p>Integration with mobile based browsers testing (<a href="https://github.com/arquillian/arquillian-droidium">Arquillian Droidium</a>)</p>
</li>
<li>
<p>Integration of JavaScript test suite execution (<a href="https://github.com/arquillian/arquillian-extension-qunit">Arquillian QUnit</a>)</p>
</li>
<li>
<p>Compatible with WebDriver (Selenium 2) and Selenium Grids</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are still not convinced that Arquillian Drone matches your needs, you might have a look at <a href="https://github.com/arquillian/arquillian-graphene">Arquillian Graphene 2</a>, which is a wrapper on top of WebDriver, goes one step further and provides you a convenient way how to write tests for rich AJAX UIs with an ease, injections for Page Objects and Page Fragments and much more.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>2. Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_see_it_in_action"><a class="anchor" href="#_see_it_in_action"></a>2.1. See It in Action</h3>
<div class="paragraph">
<p>The following example illustrates how Arquillian Drone can be used with
WebDriver:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Arquillian.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">WebDriverTest</span> {

    <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> USERNAME = <span class="string"><span class="delimiter">&quot;</span><span class="content">demo</span><span class="delimiter">&quot;</span></span>;
    <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> PASSWORD = <span class="string"><span class="delimiter">&quot;</span><span class="content">demo</span><span class="delimiter">&quot;</span></span>;

    <span class="annotation">@ArquillianResource</span>
    <span class="predefined-type">URL</span> contextPath;

    <span class="annotation">@Drone</span>
    WebDriver driver;

    <span class="comment">/**
     * Creates a testing WAR of using ShrinkWrap
     *
     * @return WebArchive to be tested
     */</span>
    <span class="annotation">@Deployment</span>(testable = <span class="predefined-constant">false</span>)
    <span class="directive">public</span> <span class="directive">static</span> WebArchive createDeployment() {
        <span class="keyword">return</span> Deployments.createDeployment();
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@InSequence</span>(<span class="integer">1</span>)
    <span class="directive">public</span> <span class="type">void</span> login() {
        LoginPage page = <span class="keyword">new</span> LoginPage(driver, contextPath);
        page.login(USERNAME, PASSWORD);
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@InSequence</span>(<span class="integer">2</span>)
    <span class="directive">public</span> <span class="type">void</span> logout() {
        LoginPage page = <span class="keyword">new</span> LoginPage(driver, contextPath);
        page.logout();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice here that the Arquillian Drone test looks similar to an Arquillian
test. There is <code>@RunWith(Arquillian.class)</code> runner, a <code>@Deployment</code>
method and a few <code>@Test</code> methods. The only new elements are
<code>@ArquillianResource</code>, which is here used to inject the <code>URL</code> of the
deployed application and <code>@Drone</code>, which injects a <code>WebDriver</code> browser,
managed for you as described in <a href="life-cycle-scopes-of-drone-points.html">Life Cycle Scopes of @Drone points</a>. </p>
</div>
<div class="paragraph">
<p>Even when using JUnit, Arquillian allows you to force method execution
order via the @InSequence annotation. Arquillian Drone is obviously
compatible with TestNG as well.</p>
</div>
<div class="paragraph">
<p>The <code>testable=false</code> argument for deployment forces Arquillian to run in
client mode, that is not inside of the server where the application is
deployed. </p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All Drone tests <strong>must</strong> run in client mode. If you need to combine tests running inside of the server as well as on the client using single
deployments, mark the deployment as <code>testable=true</code> and force client
execution via the <code>@RunAsClient</code> annotation on every client <code>@Test</code>
method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More details are listed in <a href="https://raw.githubusercontent.com/arquillian/arquillian-core/master/docs/additional-features.adoc#test-run-modes">Arquillian
Documentation test run modes</a>.</p>
</div>
<div class="paragraph">
<p>For the completeness of the code, here are the deployment methods as
well as the LoginPage abstraction:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">LoginPage</span> {

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> By LOGGED_IN = By.xpath(<span class="string"><span class="delimiter">&quot;</span><span class="content">//li[contains(text(),'Welcome')]</span><span class="delimiter">&quot;</span></span>);
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> By LOGGED_OUT = By.xpath(<span class="string"><span class="delimiter">&quot;</span><span class="content">//li[contains(text(),'Goodbye')]</span><span class="delimiter">&quot;</span></span>);

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> By USERNAME_FIELD = By.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">loginForm:username</span><span class="delimiter">&quot;</span></span>);
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> By PASSWORD_FIELD = By.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">loginForm:password</span><span class="delimiter">&quot;</span></span>);

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> By LOGIN_BUTTON = By.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">loginForm:login</span><span class="delimiter">&quot;</span></span>);
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> By LOGOUT_BUTTON = By.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">loginForm:logout</span><span class="delimiter">&quot;</span></span>);

    <span class="directive">private</span> <span class="directive">final</span> WebDriver driver;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">URL</span> contextPath;

    <span class="directive">public</span> LoginPage(WebDriver driver, <span class="predefined-type">URL</span> contextPath) {
        <span class="local-variable">this</span>.driver = driver;
        <span class="local-variable">this</span>.contextPath = contextPath;
    }

    <span class="directive">public</span> <span class="type">void</span> login(<span class="predefined-type">String</span> name, <span class="predefined-type">String</span> password) {
        driver.get(contextPath + <span class="string"><span class="delimiter">&quot;</span><span class="content">home.jsf</span><span class="delimiter">&quot;</span></span>);
        driver.findElement(USERNAME_FIELD).sendKeys(USERNAME);
        driver.findElement(PASSWORD_FIELD).sendKeys(PASSWORD);
        driver.findElement(LOGIN_BUTTON).click();
        Assert.isTrue(<span class="string"><span class="delimiter">&quot;</span><span class="content">User is logged in.</span><span class="delimiter">&quot;</span></span>, driver.findElement(LOGGED_IN).isDisplayed());
    }

    <span class="directive">public</span> <span class="type">void</span> logout() {
        driver.findElement(LOGOUT_BUTTON).click();
        Assert.isTrue(<span class="string"><span class="delimiter">&quot;</span><span class="content">User is not logged in</span><span class="delimiter">&quot;</span></span>, driver.findElement(LOGGED_OUT).isDisplayed(), <span class="string"><span class="delimiter">&quot;</span><span class="content">User is logged out</span><span class="delimiter">&quot;</span></span>);
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Deployments</span> {

   <span class="directive">public</span> <span class="directive">static</span> WebArchive createDeployment() {

        WebArchive war = ShrinkWrap.create(WebArchive.class)
                <span class="comment">// add classes</span>
                .addClasses(Credentials.class, LoggedIn.class, Login.class, User.class, Users.class)
                <span class="comment">// add configuration</span>
                .addAsResource(<span class="string"><span class="delimiter">&quot;</span><span class="content">META-INF/persistence.xml</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">META-INF/persistence.xml</span><span class="delimiter">&quot;</span></span>)
                .addAsWebInfResource(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/WEB-INF/beans.xml</span><span class="delimiter">&quot;</span></span>))
                .addAsWebInfResource(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/WEB-INF/faces-config.xml</span><span class="delimiter">&quot;</span></span>))
                <span class="comment">// add pages</span>
                .addAsWebResource(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/index.html</span><span class="delimiter">&quot;</span></span>))
                .addAsWebResource(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/home.xhtml</span><span class="delimiter">&quot;</span></span>))
                .addAsWebResource(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/template.xhtml</span><span class="delimiter">&quot;</span></span>))
                .addAsWebResource(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/users.xhtml</span><span class="delimiter">&quot;</span></span>))
                .setWebXML(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/webapp/WEB-INF/web.xml</span><span class="delimiter">&quot;</span></span>));

        <span class="keyword">return</span> war;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to put following configuration to the pom.xml file of your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencyManagement&gt;</span>
    <span class="tag">&lt;dependencies&gt;</span>
        <span class="comment">&lt;!-- Arquillian Core dependencies --&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>arquillian-bom<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian}<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
            <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
        <span class="comment">&lt;!-- Arquillian Drone dependencies and WebDriver/Selenium dependencies --&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.extension<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>arquillian-drone-bom<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian.drone}<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
            <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;/dependencies&gt;</span>
<span class="tag">&lt;/dependencyManagement&gt;</span>

<span class="tag">&lt;dependencies&gt;</span>
    <span class="comment">&lt;!-- To use Arquillian Graphene (2) --&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.graphene<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>graphene-webdriver<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian.graphene2}<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can use graphene-webdriver dependency chain even if you are willing to use plain WebDriver.
    Graphene will just bring you more goodies but it does not force you to change a single line of your code
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nevertheless, if you still don&#8217;t want to add the Graphene dependencies and just use the plain WebDriver, use this Drone dependency chain:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.extension<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>arquillian-drone-webdriver-depchain<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian.drone}<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatic_download"><a class="anchor" href="#_automatic_download"></a>3. Automatic Download</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Drone provides a functionality of automatic download of some binaries such as browser webdriver and Selenium Server jar. Which binaries and which features are supported can be found in tables below.</p>
</div>
<div class="sect2">
<h3 id="_how_it_works"><a class="anchor" href="#_how_it_works"></a>3.1. How it works?</h3>
<div class="paragraph">
<p>Let say that I want to use Chrome for my UI tests. First of all, Drone checks if the path to the webdriver binary isn&#8217;t already set. In this case it would check a system property <code>webdriver.chrome.driver</code>; if this is empty then it checks arquillian.xml property: <code>chromeDriverBinary</code>. In case that both properties are empty, then the automatic download comes up.</p>
</div>
<div class="paragraph">
<p>Now we have several options how to specify which binary should be downloaded and where it should be stored. For storage purposes cache directories <code>$HOME/.arquillian/drone/subdirectory_specific_to_binary</code> are used so the binaries are not downloaded over and over again.</p>
</div>
<div class="sect3">
<h4 id="_version"><a class="anchor" href="#_version"></a>3.1.1. Version</h4>
<div class="paragraph">
<p>Using the property</p>
</div>
<div class="paragraph">
<p><code>&lt;property name="chromeDriverVersion"&gt;2.10&lt;/property&gt;</code></p>
</div>
<div class="paragraph">
<p>you can define which version of the Chrome webdriver should be downloaded. The binary is then cached in a directory <code>$HOME/.arquillian/drone/chrome/2.10/</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_url"><a class="anchor" href="#_url"></a>3.1.2. URL</h4>
<div class="paragraph">
<p>Using the property</p>
</div>
<div class="paragraph">
<p><code>&lt;property name="chromeDriverUrl"&gt;<a href="http://url/to/chrome/webdriver" class="bare">http://url/to/chrome/webdriver</a> &lt;/property&gt;</code></p>
</div>
<div class="paragraph">
<p>you can define which url the Chrome webdriver should be downloaded from. The directory where it is stored depends if you also specify the version of this binary or not. In case you use also the before-mentioned property <code>chromeDriverVersion</code> then it is cached in corresponding directory <code>$HOME/.arquillian/drone/chrome/specified_version/</code>; otherwise it is downloaded into <code>$project.directory/target/drone/downloaded/</code> so no cache is used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_latest"><a class="anchor" href="#_latest"></a>3.1.3. Latest</h4>
<div class="paragraph">
<p>In case that you don&#8217;t define any property then Drone finds the latest version of the given binary and downloads this one. The binary (in case of Chrome webdriver) is cached at <code>$HOME/.arquillian/drone/chrome/latest_version/</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_properties_directory_names_and_support_of_latest_versions"><a class="anchor" href="#_properties_directory_names_and_support_of_latest_versions"></a>3.1.4. Properties, directory names and support of latest versions</h4>
<div class="paragraph">
<p>Explanatory notes:</p>
</div>
<div class="paragraph">
<p><em>System property</em> - intended to be used as a system property to define a path to a binary</p>
</div>
<div class="paragraph">
<p><em>arquillian.xml property</em> - intended to be used as a property used in arquillian.xml file to define a path to a binary</p>
</div>
<div class="paragraph">
<p><em>Resolution of latest version supported</em> - if the latest version is resolved when no property is defined</p>
</div>
<div class="paragraph">
<p><em>Version driver property</em> - use this arquillian.xml property to define version of the binary that should be downloaded/used</p>
</div>
<div class="paragraph">
<p><em>Url driver property</em> - use this arquillian.xml property to define an URL the binary should be downloaded from</p>
</div>
<div class="paragraph">
<p><em>Cache subdirectory</em> - name of the sub-directory (withing <code>$HOME/.arquillian/drone/</code>) the binaries are cached in</p>
</div>
<div class="sect4">
<h5 id="_selenium_server"><a class="anchor" href="#_selenium_server"></a>Selenium Server</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenium.server.binary.path</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">seleniumServerBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">seleniumServerVersion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">seleniumServerUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenium-server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_gecko_driver_firefox"><a class="anchor" href="#_gecko_driver_firefox"></a>Gecko driver (Firefox)</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.gecko.driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefoxDriverBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefoxDriverVersion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefoxDriverUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefox</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_chrome_driver"><a class="anchor" href="#_chrome_driver"></a>Chrome driver</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chromeDriverBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chromeDriverVersion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chromeDriverUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chrome</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_edge_driver"><a class="anchor" href="#_edge_driver"></a>Edge driver</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.edge.driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edgeDriverBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edgeDriverVersion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edgeDriverUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edge</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_ie_driver"><a class="anchor" href="#_ie_driver"></a>IE driver</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.ie.driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ieDriverBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ieDriverVersion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ieDriverUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internetExplorer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_phantomjs"><a class="anchor" href="#_phantomjs"></a>PhantomJS</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phantomjs.binary.path</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phantomjsBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phantomjsBinaryVersion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phantomjsBinaryUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phantomjs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_opera_driver"><a class="anchor" href="#_opera_driver"></a>Opera driver</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.opera.driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operaDriverBinary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operaDriverVersion (only in combination with url)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operaDriverUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">opera</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_safari_driver"><a class="anchor" href="#_safari_driver"></a>Safari driver</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">arquillian.xml property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolution of latest version supported</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Url driver property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache subdirectory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>We are not supporting <code>Automatic downloading for safari</code> &amp; <code>Download webdriver from a specific URL</code>
due to following reasons:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Automatic Downloading for Safari:</strong><br>
Starting with Safari 10 on OS X El Capitan and macOS Sierra, Safari comes bundled with a new driver
implementation that’s maintained by the Web Developer Experience team at Apple.
Safari’s driver is launchable via the /usr/bin/safaridriver executable, and most client libraries
provided by Selenium will automatically launch the driver this way without further configuration.
<a href="https://webkit.org/blog/6900/webdriver-support-in-safari-10/">Safari-10</a></p>
</li>
<li>
<p><strong>Download Webdriver from a specific URL:</strong><br>
Starting with Selenium 2.48.0, you must manually install the SafariDriver browser extension.
Refer getting started section from <a href="https://github.com/SeleniumHQ/selenium/wiki/SafariDriver">SafariDiver</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>GitHub release caching functionality caches GitHub responses based on the last modification date
from the returned response header guarding against exceeding GitHub rate limit for unauthorized requests.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_activate_deactivate"><a class="anchor" href="#_activate_deactivate"></a>3.2. Activate / Deactivate</h3>
<div class="paragraph">
<p>The automatic download functionality is activated by default; if you want to set it off use the property:</p>
</div>
<div class="paragraph">
<p><code>&lt;property name="downloadBinaries"&gt;false&lt;/property&gt;</code></p>
</div>
<div class="paragraph">
<p>and no binary will be downloaded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_selenium_server_2"><a class="anchor" href="#_selenium_server_2"></a>3.3. Selenium Server</h3>
<div class="paragraph">
<p>Apart from the fact that the Selenium Server binary is automatically downloaded, in the case of @RemoteWebDriver@ it is also automatically started with the correct parameters (path to the webdriver that should be used).</p>
</div>
<div class="paragraph">
<p>So, if you use <code>RemoteWebDriver</code> Drone checks the address specified using property <code>remoteAddress</code> in arquillian.xml file (default is: <code><a href="http://localhost:4444/wd/hub" class="bare">http://localhost:4444/wd/hub</a></code>) and if the address is not accessible (there isn&#8217;t running anything) then it automatically starts selenium server instance on the given address.</p>
</div>
<div class="paragraph">
<p>For example I&#8217;d like to use <code>RemoteWebDriver</code> with the browser Firefox and without specifying any custom remote address, then the Selenium Server would be started using command:</p>
</div>
<div class="paragraph">
<p><code>java -Dwebdriver.gecko.driver=target/&#8230;&#8203;/geckodriver -jar target/&#8230;&#8203;/selenium-server-standalone-3.3.1.jar -port 4444</code></p>
</div>
<div class="paragraph">
<p>In case you would like to add some additional selenium server arguments to the command, you can use parameter <code>seleniumServerArgs</code> in your arquillian.xml file.
For example, if you used these properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">seleniumServerArgs</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>-debug true -role node -browserTimeout 1000<span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>firefox<span class="tag">&lt;/property&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>then the command used for starting Selenium Server instance would look like:</p>
</div>
<div class="paragraph">
<p><code>java -Dwebdriver.gecko.driver=target/&#8230;&#8203;/geckodriver -jar target/&#8230;&#8203;/selenium-server-standalone-3.3.1.jar -port 4444 -debug true -role node -browserTimeout 1000</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_supported_frameworks_and_their_versions"><a class="anchor" href="#_supported_frameworks_and_their_versions"></a>4. Supported Frameworks And Their Versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following frameworks are supported and tested with the latest
version of Arquillian Drone. Drone type is the type you can inject via
the <code>@Drone</code> annotation.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Framework Name</th>
<th class="tableblock halign-left valign-top">Drone Type</th>
<th class="tableblock halign-left valign-top">Tested Version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebDriver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ChromeDriver<br>
 FirefoxDriver<br>
 HtmlUnitDriver<br>
 InternetExplorerDriver<br>
 PhantomJSDriver<br>
 OperaDriver<br>
 RemoteDriver<br>
 WebDriver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.53.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arquillian Graphene</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebDriver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.0.Final</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is not required to use Arquillian Drone with the exact version we
certified. You can override versions via <code>&lt;dependencyManagement&gt;</code>, as
explained in the
<a href="https://community.jboss.org/wiki/HowDoISpecifyTheSeleniumVersionInArquillianDrone">Arquillian
FAQ</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are in doubt what to use for a newly created project, Arquillian
team recommends you to start with Graphene, which is based on WebDriver,
however brings you a lot of AJAX goodies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maven_setup_example"><a class="anchor" href="#_maven_setup_example"></a>5. Maven Setup Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Adding an Arquillian Drone dependency can be divided into two parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding a Bill of Materials (BOM) into the dependency section for
both Arquillian and Arquillian Drone. This step ensures that Maven will
fetch the correct version of all dependencies.</p>
</li>
<li>
<p>Adding a Dependency Chain dependency. This greatly simplifies the
entry point as you only need to add a single dependency. All transitive
dependencies, like the version of Selenium, will be fetched for you
automatically.</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The order in the <code>&lt;dependencyManagement&gt;</code> section matters. The first
version defined takes precedence. By listing Arquillian BOM <strong>before</strong>
Arquillian Drone BOM, you encore Drone to use latest Arquillian Core.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As for the first step, this is the same for all supported Drones:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;version.org.jboss.arquillian&gt;</span>1.1.13.Final<span class="tag">&lt;/version.org.jboss.arquillian&gt;</span>
    <span class="tag">&lt;version.org.jboss.arquillian.drone&gt;</span>2.1.0<span class="tag">&lt;/version.org.jboss.arquillian.drone&gt;</span>
    <span class="tag">&lt;version.org.jboss.arquillian.graphene&gt;</span>2.2.0<span class="tag">&lt;/version.org.jboss.arquillian.graphene&gt;</span>
<span class="tag">&lt;/properties&gt;</span>

<span class="tag">&lt;dependencyManagement&gt;</span>
    <span class="tag">&lt;dependencies&gt;</span>
        <span class="comment">&lt;!-- Arquillian Core dependencies --&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>arquillian-bom<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian}<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
            <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
        <span class="comment">&lt;!-- Arquillian Drone dependencies and WebDriver/Selenium dependencies --&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.extension<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>arquillian-drone-bom<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian.drone}<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
            <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;/dependencies&gt;</span>
<span class="tag">&lt;/dependencyManagement&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you need to use newer Selenium version than the one used by Drone,
you can specify <code>selenium-bom</code> in the dependencyManagement part as
well.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If you use <code>selenium-bom</code> make sure that it is specified
before the <code>arquillian-drone-bom</code> (or also before other BOMs that manage
Selenium version) to make the change effective.<br>
Example of Selenium BOM for Selenium 3.0.0-beta3
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencyManagement&gt;</span>
    <span class="tag">&lt;dependencies&gt;</span>
        ...
        <span class="comment">&lt;!-- Selenium BOM --&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.selenium<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>selenium-bom<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>3.3.1<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
            <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
        ...
    <span class="tag">&lt;/dependencies&gt;</span>
<span class="tag">&lt;/dependencyManagement&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The latter step differs based on what Drone you want to use. Include one
of the following into the <code>&lt;dependencies&gt;</code> section:</p>
</div>
<div class="paragraph">
<p>To use Arquillian Graphene 2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.graphene<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>graphene-webdriver<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian.graphene}<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
    <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To use WebDriver:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian.extension<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>arquillian-drone-webdriver-depchain<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${version.org.jboss.arquillian.drone}<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
    <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
WebDriver is a subset of Graphene. You can import Graphene and not to
use any of the Graphene features from the start. However, it would be
super easy to add them later on.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="life-cycle-scopes-of-drone-points"><a class="anchor" href="#life-cycle-scopes-of-drone-points"></a>6. Life Cycle Scopes of @Drone points</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Arquillian Drone does not allow you to control the life cycle of web
testing framework objects, but it provides three different scopes which
should be sufficient for most usages required by developers. These are:</p>
</div>
<div class="sect2">
<h3 id="class-scoped-life-cycle"><a class="anchor" href="#class-scoped-life-cycle"></a>6.1. 1. Class Scoped Life Cycle</h3>
<div class="paragraph">
<p>For the Drone points with the class scoped life cycle, a configuration
for the instance is created before a test class is run. This
configuration is used to properly initialize an instance of the tool.
The instance is injected into the field and holds until the last test in
the test class is finished, then it is disposed. You can think of
<code>@BeforeClass</code> and <code>@AfterClass</code> equivalents.</p>
</div>
<div class="paragraph">
<p>This scope is default scope for the field injection points. If you
still want to declare the Drone point to be class-scoped use the
annotation <code>@ClassLifecycle</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="method-scoped-life-cycle"><a class="anchor" href="#method-scoped-life-cycle"></a>6.2. 2. Method Scoped Life Cycle</h3>
<div class="paragraph">
<p>For the Drone points with the method scoped life cycle, an instance is
configured and created before Arquillian enters test method and it is
destroyed after method finishes. You can think of <code>@Before</code> and <code>@After</code>
equivalents.</p>
</div>
<div class="paragraph">
<p>This scope is a default scope for the method parameter injection points.
To declare a field injection point as a method-scoped Drone point use
the annotation <code>@MethodLifecycle</code></p>
</div>
</div>
<div class="sect2">
<h3 id="deployment-scoped-life-cycle"><a class="anchor" href="#deployment-scoped-life-cycle"></a>6.3. 3. Deployment Scoped Life Cycle</h3>
<div class="paragraph">
<p>For the Drone points with the deployment scoped life cycle, an instance
is configured and created after an Arquillian deployment is deployed and
it is destroyed when the deployment is about to be undeployed. You can
think of <code>@AfterDeploy</code> and <code>@BeforeUnDeploy</code> equivalents.</p>
</div>
<div class="paragraph">
<p>To declare any injection point as a deployment-scoped Drone point use
the annotation <code>@OperateOnDeployment("deployment_name")</code> with the
specified name of the deployment the Drone point should be tied to.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Arquillian.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">EnrichedClass</span>
{
   <span class="annotation">@Deployment</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">cool_deployment</span><span class="delimiter">&quot;</span></span>)
   <span class="directive">public</span> <span class="directive">static</span> Archive deploy() {
      <span class="keyword">return</span> ShrinkWrap.create(Archive.class);
   }

   <span class="annotation">@Drone</span>
   <span class="annotation">@OperateOnDeployment</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">cool_deployment</span><span class="delimiter">&quot;</span></span>)
   WebDriver foo;

   ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is important to know that you can combine multiple instances in one
test and you can have them in different scopes. You can as well combine
different framework types. Following example shows class-scoped instance
<code>foo</code> and method-scoped instance <code>baz</code> of type <code>WebDriver</code> combined with
method-scoped <code>bar</code> of type <code>FirefoxDriver</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Arquillian.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">EnrichedClass</span>
{
   <span class="annotation">@Drone</span> WebDriver foo;

   <span class="annotation">@Drone</span> <span class="annotation">@MethodLifecycle</span> WebDriver baz;

   <span class="comment">// this will always retrieve FirefoxDriver, no matter what you specify in arquillian.xml file</span>
   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> runThisTestAlwaysWithFirefoxDriver(<span class="annotation">@Drone</span> FirefoxDriver bar) {
     ...
   }
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="keeping-multiple-drone-instances-of-the-same-field-type"><a class="anchor" href="#keeping-multiple-drone-instances-of-the-same-field-type"></a>6.3.1. Keeping Multiple Drone Instances Of The Same Field Type</h4>
<div class="paragraph">
<p>With Arquillian Drone, it is possible to keep more than one instance of
a web test framework tool of the same type and determine which instance
to use in a type safe way. Arquillian Drone uses the concept of a
<code>@Qualifier</code> annotation which you may know from CDI. Drone defines its
own <code>@Qualifier</code> meta-annotation which allows you to create your own
annotations usable to qualify any <code>@Drone</code> injections. By default, if no
<code>@Qualifier</code> annotation is present, Arquillian Drone implicitly uses the
<code>@Default</code> qualifier. The following code defines a new qualifying
annotation named <code>Different</code>.</p>
</div>
<div class="paragraph">
<p>Take care to not accidentally import the Qualifier annotation defined by
CDI (<code>javax.inject.Qualifier</code>). Drone defines its own meta-annotation of
the same name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">org.jboss.arquillian.drone.example</span>;

<span class="keyword">import</span> <span class="include">java.lang.annotation.ElementType</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.Retention</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.RetentionPolicy</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.Target</span>;

<span class="keyword">import</span> <span class="include">org.jboss.arquillian.drone.api.annotation.Qualifier</span>;

<span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
<span class="annotation">@Target</span>({ <span class="predefined-type">ElementType</span>.FIELD, <span class="predefined-type">ElementType</span>.PARAMETER })
<span class="annotation">@Qualifier</span>
<span class="directive">public</span> <span class="annotation">@interface</span> Different {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have defined a qualifier, you can use it in your tests, for
example in following way, having two distinct class based life cycle
instances of <code>WebDriver</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Arquillian.class)
<span class="annotation">@RunAsClient</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">EnrichedClass</span> {
   <span class="annotation">@Drone</span> WebDriver foo;
   <span class="annotation">@Drone</span> <span class="annotation">@Different</span> WebDriver bar;


   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> testWithBothFooAndBar() {
     ...
   }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-drone-instances"><a class="anchor" href="#configuring-drone-instances"></a>7. Configuring Drone Instances</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Drone instances are automatically configured from arquillian.xml
descriptor file or System properties, which take precedence. You can
eventually omit the configuration altogether, if you are happy with the
default values. Obviously, configurations are compatible with
<a href="#extended-configuration-configuring-qualified-drone-instances">@Qualifier
annotations</a>, so you can create a special configuration for a method
based life cycle browser if you will.</p>
</div>
<div class="paragraph">
<p>Extension qualifier must match the value listed in configuration.
Otherwise Drone won&#8217;t pick the configuration.</p>
</div>
<div class="paragraph">
<p>The different configuration options supported by Drone are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#default-drone-configuration">Default Drone Configuration</a></p>
</li>
<li>
<p><a href="#webdriver-configuration">WebDriver configuration</a></p>
</li>
<li>
<p><a href="#graphene-2-configuration">Graphene 2 Configuration</a></p>
</li>
<li>
<p><a href="#selenium-server-configuration">Selenium Server Configuration</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="default-drone-configuration"><a class="anchor" href="#default-drone-configuration"></a>7.1. Default Drone Configuration</h3>
<div class="paragraph">
<p>Drone global configuration is applied for all supported frameworks at
the same time. It uses <code>drone</code> extension qualifier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;extension</span> <span class="attribute-name">qualifier</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">drone</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">instantiationTimeoutInSeconds</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>120<span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;/extension&gt;</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instantiationTimeoutInSeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default timeout in seconds to get instance of a browser. Set to <code>0</code> if
you want to disable the timeout altogether</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="webdriver-configuration"><a class="anchor" href="#webdriver-configuration"></a>7.2. WebDriver configuration</h3>
<div class="paragraph">
<p>WebDriver uses <code>webdriver</code> qualifier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;extension</span> <span class="attribute-name">qualifier</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">webdriver</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>firefox<span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;/extension&gt;</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">browser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">htmlUnit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines which browser instance is created for WebDriver testing.
</p><p class="tableblock">Following values are valid:
</p><p class="tableblock">. chrome<br>
. firefox<br>
. htmlUnit  or htmlunit<br>
. internetExplorer or internetexplorer<br>
. opera<br>
. phantomjs<br>
. safari<br>
. edge<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">iePort</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default port where to connect for Internet Explorer driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remoteAddress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://localhost:4444/wd/hub" class="bare">http://localhost:4444/wd/hub</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default address for remote driver to connect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">remoteReusable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The flag which indicates that remote session should be reused between
subsequent executions - gives opportunity to reuse browser window for
debugging and/or test execution speed-up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reuseCookies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you are using remote reusable browser, you can force it to reuse
cookies</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefoxExtensions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path or multiple paths to xpi files that will be installed into Firefox
instance as extensions. Separate paths using space, use quotes in case
that path contains spaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefox_profile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to Firefox Profile to be used instead of default one delivered with
FirefoxDriver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">firefoxUserPreferences</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to Firefox user preferences. This file will be parsed and values
will be applied to freshly created Firefox profile.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dimensions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dimensions of browser window in <code>widthxheight</code> format. This will resize
the window if supported by underlying browser. Useful for <strong>phantomjs</strong>,
which by default defines a very small viewport</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Some additional configuration parameters related to binaries can be found in <a href="http://arquillian.org/arquillian-extension-drone/#_properties_directory_names_and_support_of_latest_versions">Properties, directory names and support of latest versions</a></p>
</div>
<div class="paragraph">
<p>If you need to enable any
<a href="http://code.google.com/p/selenium/wiki/DesiredCapabilities">browser
capability</a>, simply specify it as a property in extension configuration.
For instance, if you are running Firefox browser and you want to change
the binary location, you can do it via following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;extension</span> <span class="attribute-name">qualifier</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">webdriver</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">firefox_binary</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>/path/to/firefox<span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;/extension&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We have enabled JavaScript for <strong>htmlUnit</strong> driver by default. If you want
to disable it, configure appropriate capability to false:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">javascriptEnabled</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>false<span class="tag">&lt;/property&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>WebDriver expects a Java Object stored in Capabilities settings for some
of the WebDriver capabilities. Therefore, we provide a simple mappings
to text format for some properties described in table below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">loggingPrefs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of logging levels for FirefoxDriver. Use
driver=${value1},profiler=${value2} where value is one of the
following: SEVERE, WARNING, INFO, CONFIG, FINE, FINER or FINEST</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="graphene-2-configuration"><a class="anchor" href="#graphene-2-configuration"></a>7.3. Graphene 2 Configuration</h3>
<div class="paragraph">
<p>Graphene 2 reuses configuration specified for WebDriver, using
<code>webdriver</code> qualifier. You can additionally use a
<a href="http://arquillian.org/arquillian-graphene/#_graphene_configuration">Arquillian
Graphene 2 configuration</a> to set Graphene specific configuration, such
as default UI timeouts.</p>
</div>
</div>
<div class="sect2">
<h3 id="selenium-server-configuration"><a class="anchor" href="#selenium-server-configuration"></a>7.4. Selenium Server Configuration</h3>
<div class="paragraph">
<p>Selenium server is automatically started with the parameter reflecting browser that is used (path to the webdriver). For example, in case that the browser Firefox is used and with default address, then the Selenium Server instance would be started using a command:</p>
</div>
<div class="paragraph">
<p><code>java -Dwebdriver.gecko.driver=target/&#8230;&#8203;/geckodriver -jar target/&#8230;&#8203;/selenium-server-standalone-3.3.1.jar -port 4444</code></p>
</div>
<div class="paragraph">
<p>In case you would like to add some additional selenium server arguments to the command, you can use parameter <code>seleniumServerArgs</code> in your arquillian.xml file.
For example, if you used these properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">seleniumServerArgs</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>-debug true -role node -browserTimeout 1000<span class="tag">&lt;/property&gt;</span>
<span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>firefox<span class="tag">&lt;/property&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>then the command used for starting Selenium Server instance would look like:</p>
</div>
<div class="paragraph">
<p><code>java -Dwebdriver.gecko.driver=target/&#8230;&#8203;/geckodriver -jar target/&#8230;&#8203;/selenium-server-standalone-3.3.1.jar -port 4444 -debug true -role node -browserTimeout 1000</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extended-configuration-configuring-qualifierd-drone-instances"><a class="anchor" href="#extended-configuration-configuring-qualifierd-drone-instances"></a>8. Extended Configuration: Configuring @Qualifier&#8217;d Drone Instances</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are wondering how to define configuration for <code>@Qualifier</code>
<code>@Drone</code> instance, it&#8217;s very easy. Only modification you have to do is
to change qualifier to include - (<code>@Qualifier</code> annotation name converted
to lowercase). For instance, if you qualified Arquillian Graphene
instance with @MyExtraBrowser, its extension qualifier will become
<strong>graphene-myextrabrowser</strong>.</p>
</div>
<div class="paragraph">
<p>Arquillian Drone configures your browser using two-step process:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Search for the exact match of qualifier (e.g.
<code>graphene-myextrabrowser</code>) in arquillian.xml, if found, step 2 is not
performed.</p>
</li>
<li>
<p>Search for a match of base qualifier, without type safe <code>@Qualifier</code>
(e.g. <code>graphene</code>) in arquillian.xml.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Then System property are applied in the same fashion.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="arquillian-drone-spi"><a class="anchor" href="#arquillian-drone-spi"></a>9. Arquillian Drone SPI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The big advantage of Arquillian Drone extension is its flexibility. We
provide you reasonable defaults, but if they are not sufficient or if
they do not fulfill your needs, you can change them. You can change the
behavior of existing implementation or implement a support for your own
testing framework as well.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#event-model">Event Model</a></p>
</li>
<li>
<p><a href="#working-with-drone-instances">Working with Drone Instances</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="event-model"><a class="anchor" href="#event-model"></a>9.1. Event Model</h3>
<div class="paragraph">
<p>Drone itself is not using Arquillian Container related event, which
means that it is able to work with Arquillian Standalone test runners.
Arquillian Drone itself observes following events:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Arquillian Event</th>
<th class="tableblock halign-left valign-top">Drone Default Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeSuite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone creates a registry with all Drone SPI implementation on the
classpath<br>
Drone creates a global configuration<br>
Drone configures Selenium Server<br>
Drone registers all Browser Capabilities implementation on the
classpath<br>
Drone creates a registry for session reuse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone creates a configuration and future instance for Drone points with
class scoped life cycle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDeploy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone creates a configuration and future instance for Drone points with
deployment scoped life cycle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone creates a configuration for instances with method scoped life
cycle<br>
Drone converts a Drone instance callable into a real Drone instance<br>
Drone enhances Drone instances</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">After</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone destroys an instance of method scoped Drone points</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone destroys an instance of class scoped Drone points</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeUnDeploy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone destroys an instance of deployment scoped Drone points</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterSuite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drone destroys Selenium Server instance</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Arquillian Drone fires following events you can observe in your
extension:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Arquillian Drone fired event</th>
<th class="tableblock halign-left valign-top">When is this event fired?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDroneExtensionConfigured</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before the global configuration is prepared</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDronePrepared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after Drone configuration and Drone callable instance are created
and stored in the context</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDroneInstantiated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after Drone instance callable is converted into real Drone
instance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDroneEnhanced</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after Drone instance is enhanced by an
<code>DroneInstanceEnhancer and a window is resized (if requested)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDroneDeenhanced</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after Drone instance is deenhanced by an <code>DroneInstanceEnhancer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AfterDroneDestroyed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after Drone instance is destroyed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeDroneExtensionConfigured</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before the global configuration is prepared</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeDronePrepared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before Drone configuration and Drone callable instance are created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeDroneInstantiated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before Drone instance callable is converted into real Drone
instance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeDroneEnhanced</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before Drone instance is enhanced by an <code>DroneInstanceEnhancer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeDroneDeenhanced</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before Drone instance is deenhanced by an <code>DroneInstanceEnhancer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BeforeDroneDestroyed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before the Drone instance will be destroyed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DroneAugmented</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after WebDriver instance is augmented to support more features.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Events provide a class hierarchy, so you can observe their super classes
if you want.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="working-with-drone-instances"><a class="anchor" href="#working-with-drone-instances"></a>9.2. Working with Drone Instances</h3>
<div class="paragraph">
<p>If you want to support another testing framework and manage it&#8217;s
lifecycle, you should implement following interfaces and register them
in your own Arquillian Extension.</p>
</div>
<div class="paragraph">
<p><strong>Drone Factory SPI:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configurator&lt;T, C&gt;<br>
Provides a way how to configure configurations of type C for <code>@Drone</code>
object of type T</p>
</li>
<li>
<p>Instantiator&lt;T, C&gt;<br>
Provides a way how to instantiate <code>@Drone</code> object of type T with
configuration C</p>
</li>
<li>
<p>Destructor&lt;T&gt;<br>
Provides a way how to dispose <code>@Drone</code> object of type T</p>
</li>
<li>
<p>DroneInstanceEnhancer&lt;T&gt;<br>
Provides a way how to enhance <code>Drone</code> object of type T with additional
functionality. All enhancers available on class path and compatible with
current Drone type are always applied.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Drone Context SPI:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>DroneConfiguration<br>
This is effectively a marker for configuration of type C</p>
</li>
<li>
<p>DronePoint<br>
An unique description of a Drone in a code.</p>
</li>
<li>
<p>DroneRegistry<br>
Register of available {{Configurator}}s, {{Instantiator}}s and
{{Destructor}}s discovered via SPI.</p>
</li>
<li>
<p>DronePointContext<br>
A unique holder for configuration, callable instance and metadata of
each Drone point.</p>
</li>
<li>
<p>DroneContext<br>
Holder for all {{DronePointContext}}s and the global configuration.</p>
</li>
<li>
<p>InstanceOrCallableInstance<br>
Holder for any object in DroneContext. It allows to hold both real
instance and callable instance in union like manner. It is also used to
hold Drone related configuration, which is always instantiated</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Drone WebDriver SPI:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>BrowserCapabilitiesRegistry<br>
Container for all registered WebDriver browser capabilities</p>
</li>
<li>
<p>BrowserCapabilities<br>
Implementation of browser implementation for <code>WebDriver</code></p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Implementations of Configurator, Instantiator and Destructor are
searched on the class path and they are sorted according to precedence
they declare. Default implementation has precedence of 0, so if your
implementation has a higher precedence and instantiates the exact type,
Arquillian Drone will use it instead of default variant. This provides
you the ultimate way how to change behavior if desired. Of course, you
can provide support for your own framework in the very same way, so in
your test you can use <code>@Drone</code> annotation to inject instances of
arbitrary web testing framework.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_the_project"><a class="anchor" href="#_building_the_project"></a>10. Building the project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prerequisites:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JDK 8 and newer</p>
</li>
<li>
<p>Maven 3.0.3 and newer</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_running_test_suite"><a class="anchor" href="#_running_test_suite"></a>10.1. Running test suite</h3>
<div class="paragraph">
<p>You can use Arquillian Spacelift to gather all the required binaries. Just run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">./gradlew test</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will run tests using multiple Arquillian Core versions and <em>phantomjs</em> browser. In case you want to modify
the behavior, you can specify -ParquillianCoreVersions=1.1.12 and -Pbrowser=phantomjs,firefox for instance.
This will run integration test using a cross product of Arquillian Core and browsers defined.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Running testsuite this way will modify all <em>pom.xml</em> files in the project. Make sure you have committed all
your changes there first.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_manual_way_to_run_test_suite"><a class="anchor" href="#_manual_way_to_run_test_suite"></a>10.1.1. Manual way to run test suite</h4>
<div class="paragraph">
<p>Prerequisites:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>running Selenium Server at port 4444, with paths to binaries required for remote browser execution. If you don&#8217;t do it by yourself, Drone will run an instance of Selenium Server automatically. However in this case the server is started and stopped for each test class separately and only in a standalone mode with only one parameter <code>-port</code> that is taken from defined remoteAddress.</p>
<div class="paragraph">
<p>In case you want to specify other arguments to the selenium server, you can do so using the property,</p>
</div>
<div class="paragraph">
<p><code>&lt;property name="seleniumServerArgs"&gt;-debug -role hub -browserTimeout 1000&lt;/property&gt;</code></p>
</div>
<div class="paragraph">
<p>So, if you are fine with this automatic behavior you can skip this step, otherwise run your Selenium Server.</p>
</div>
</li>
<li>
<p>installed web browsers you want to test</p>
</li>
<li>
<p>you might want to align your layout to be the same as paths to binaries specified within arquillian.xml in <em>drone-webdriver</em> module. Alternatively, you can override properties with
-Darq.extension.${extensionQualifier}.${propertyName}</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Limitations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>reusable sessions are not supported by Edge browser therefore related tests are skipped</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to start Selenium Server, execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">java -Dphantomjs.binary.path=/path/to/phantomjs.binary -Dwebdriver.ie.driver=/path/to/iedriverserver.binary -jar selenium-server-standalone-3.3.1.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once Selenium Server is running, you can run the tests by:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">mvn clean verify -Dbrowser=${browser}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where browser has the same value as browser property from <em>arquillian.xml</em> you want to tests (e.g. firefox, chrome, phantomjs, internetExplorer, opera, edge, etc.)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
VNC server instance can be used to let all the browsers pop out in separate display. Just prepend both commands with DISPLAY=:${display.number}
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_releasing_new_version"><a class="anchor" href="#_releasing_new_version"></a>10.2. Releasing new version</h3>
<div class="paragraph">
<p>Run following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">mvn clean release:prepare release:perform</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure that you push the tag, close all issues with given version in JIRA and mark version as released.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-04-18 11:20:38 UTC
</div>
</div>
</body>
</html>